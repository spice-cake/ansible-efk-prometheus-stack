# ansible-efk-prometheus-stack

Роли Ansible для развертывания стека EFK (Elasticsearch, Fluent-bit, Kibana) вместе с Prometheus для мониторинга и логирования.

## Особенности

**Для всех ролей настроена авторизация и автоматическое создание учетных записей**

- ## **EFK-стек**: 
 - Роль **Elasticsearch**: хранение логов
 - Роль **Fluentbit**: сбор и отправка логов
 - Роль **Kiban**: визуализация логов.
- ## **Prometheus**:
 - Роль **Prometheus**: сбор и хранение метрик
 - Роль **Node-exporter**: экспортер для системных метрик.

## Предварительные требования

- Ansible, установленный на управляющей машине.
- Роли EFK зависят от коллекции **community.elastic**.

## Установка

1. **Клонируйте репозиторий**
   
   Склонируйте репозиторий с помощью команды `git clone` и перейдите в каталог проекта.

2. **Задать значения переменным**
   
   Отредактируйте файлы `main.yml`.
   Заменить значения паролей по умолчания `ChangeMe` на свои
   
4. **Установите зависимости плейбук**
   
   Выполните плейбук с помощью команды `ansible-galaxy collection install community.elastic`

5. **Запустите плейбук**
   
   Выполните плейбук с помощью команды `ansible-playbook playbook.yml`

## Использование

- **Доступ к Kibana**: перейдите по адресу `http://<kibana_host>:5601` для просмотра логов.
- **Доступ к Prometheus**: перейдите по адресу `http://<Prometheus_host>:9090` для просмотра метрик.


## Лицензия

Этот проект лицензирован под лицензией MIT.

## Это учебный проект! Задание:

Необходимо подготовить Ansible роли для разворачивания Prometheus (вне кластера Kubernetes, для мониторинга внешних хостов), 
для установки Node exporter и добавления static config в конфигурацию развернутого Prometheus с новым хостом,
разворачивания ElasticSearch + Kibana, установки fluentbit с настроенным сбором системных логов (из journald) в установленный ElasticSearch. 



